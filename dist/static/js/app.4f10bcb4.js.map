{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?8f52","webpack:///./src/App.vue?e895","webpack:///./src/components/MyEarth.vue?66cc","webpack:///src/components/MyEarth.vue","webpack:///./src/components/MyEarth.vue?20ac","webpack:///./src/components/MyEarth.vue","webpack:///src/App.vue","webpack:///./src/App.vue?9791","webpack:///./src/App.vue","webpack:///./src/store/state.js","webpack:///./src/store/modules/homePage.js","webpack:///./src/store/store.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","_m","_v","on","handleClick","staticStyle","timerNum","coord","SECOND","MINUTE","HOUR","MAX_TASK_TIME","MIN_SLEEP_TIME","MIN_MOVE","MOVE_END_WAIT","OVERLAY_ALPHA","Math","floor","INTENSITY_SCALE_STEP","MAX_PARTICLE_AGE","PARTICLE_LINE_WIDTH","PARTICLE_MULTIPLIER","PARTICLE_REDUCTION","FRAME_RATE","NULL_WIND_VECTOR","NaN","HOLE_VECTOR","TRANSPARENT_BLACK","REMAINING","COMPLETED","mounted","init","methods","earthJs","console","log","error","setTimeout","alert","view","µ","report","d3","select","status","classed","text","msg","err","message","reset","progress","amount","ceil","total","bar","that","substr","newAgent","configuration","inputController","buildInputController","meshAgent","globeAgent","gridAgent","rendererAgent","fieldAgent","animatorAgent","overlayAgent","kuangAgent","newOp","type","startMouse","startScale","manipulator","zoom","behavior","signalEnd","_","debounce","op","save","dispatch","trigger","reorient","options","arguments","scale","navigator","geolocation","rotate","extend","globe","scaleExtent","listenTo","getData","drawRect","mglobe","mark","node","append","attr","datum","path","isRotate","projection","buildMesh","cancel","loadJson","resource","then","topo","requested","time","objects","coastLo","topojson","feature","isMobile","coastline_tiny","coastline_110m","coastHi","coastline_50m","lakesLo","lakes_tiny","lakes_110m","lakesHi","lakes_50m","timeEnd","buildGlobe","builder","globes","projectionName","when","reject","downloadsInProgress","buildGrids","loaded","map","products","productsFor","attributes","product","load","all","navigate","debug","next","primaryGrid","step","dateToConfig","buildRenderer","mesh","clone","Backbone","Events","_previous","stopListening","removeChildren","defineMap","geo","pointRadius","coastline","lakes","drawLocationMark","isInsideBoundary","point","isFinite","selectAll","activeLocation","REDRAW_WAIT","doDraw_throttled","throttle","doDraw","moveStart","move","moveEnd","click","createMask","width","canvas","document","createElement","height","context","defineMask","getContext","fillStyle","fill","imageData","getImageData","isVisible","y","x","set","rgba","createField","field","column","columns","round","isDefined","release","randomize","safetyNet","random","bounds","xMax","yMax","overlay","mask","distort","u","wind","v","distortion","λ","φ","interpolateField","grids","overlayGrid","defer","velocityScale","particles","interpolate","overlayInterpolate","hasDistinctOverlay","interpolateColumn","invert","color","scalar","isValue","gradient","batchInterpolate","start","Date","now","resolve","e","promise","animate","colorStyles","windIntensityColorScale","maxIntensity","buckets","particleCount","fadeFillStyle","isFF","g","lineWidth","frame","evolve","draw","forEach","bucket","particle","age","xt","yt","indexFor","prev","globalCompositeOperation","fillRect","beginPath","strokeStyle","moveTo","lineTo","stroke","drawGridPoints","grid","ctx","stream","forEachPoint","drawOverlay","clearCanvas","overlayType","putImageData","colorBar","rgb","spread","mouse","pct","clamp","elementId","units","createUnitToggle","formatScalar","label","validityDate","THREE_HOURS","date","getTime","parts","split","hhmm","showDate","formatted","isLocal","toLocalISO","toUTCISO","showGridDetails","description","langCode","pd","od","qualifier","center","source","index","id","size","showWindAtLocation","unitToggle","formatVector","showOverlayValueAtLocation","showLocationDetails","clearLocationDetails","formatCoordinates","updateLocationDetails","clearEverything","remove","stopCurrentAnimation","alsoClearCanvas","bindButtonToConfiguration","keys","newAttr","model","isEqual","pick","reportSponsorClick","ga","startRendering","submit","startInterpolation","cancelInterpolation","isEmbeddedInIFrame","open","location","hash","documentElement","fetch","changed","changedAttributes","intersection","rebuildRequired","indexOf","partial","param","ocean","ot","showGridPoints","each","overlayTypes","otherwise","component","components","MyEarth","created","state","mutations","actions","getters","Vue","use","Vuex","Store","homePage","store","config","productionTip","ElementUI","render","h","App","$mount"],"mappings":"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","file":"static/js/app.4f10bcb4.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('MyEarth')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('div',{attrs:{\"id\":\"display\"}},[_c('svg',{staticClass:\"fill-screen\",attrs:{\"id\":\"map\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\"}}),_c('canvas',{staticClass:\"fill-screen\",attrs:{\"id\":\"animation\"}}),_c('canvas',{staticClass:\"fill-screen\",attrs:{\"id\":\"overlay\"}}),_c('svg',{staticClass:\"fill-screen\",attrs:{\"id\":\"foreground\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\"}})]),_c('div',{attrs:{\"id\":\"details\"}},[_c('p',{attrs:{\"id\":\"status\"}}),_vm._m(0),_c('div',{staticClass:\"invisible\",attrs:{\"id\":\"menu\"}},[_vm._m(1),_vm._m(2),_vm._m(3),_vm._m(4),_c('p',[_vm._v(\"操作 | \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"nav-now\",\"title\":\"Current Conditions\"}},[_vm._v(\"Now\")]),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"nav-backward-more\"}}),_vm._v(\" – \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"nav-backward\"}},[_vm._v(\" ‹ \")]),_vm._v(\" – \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"nav-forward\"}},[_vm._v(\" ›\")]),_vm._v(\" – \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"nav-forward-more\"}},[_vm._v(\" » \")]),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"show-location\",\"title\":\"Current Position\"},on:{\"click\":_vm.handleClick}},[_vm._v(\"〖◯〗\")]),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"option-show-grid\",\"title\":\"Toggle Grid\"}},[_vm._v(\"Grid \")])]),_vm._m(5),_vm._m(6),_vm._m(7),_vm._m(8),_vm._m(9),_vm._m(10),_vm._m(11),_vm._m(12),_vm._m(13),_vm._m(14),_vm._m(15)]),_vm._m(16)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"location\"}},[_c('p',[_c('span',{attrs:{\"id\":\"location-coord\"}}),_c('span',{staticClass:\"invisible text-button\",attrs:{\"id\":\"location-close\"}},[_vm._v(\" ✕ \")])]),_c('p',[_c('span',{attrs:{\"id\":\"location-wind\"}}),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"location-wind-units\"}})]),_c('p',[_c('span',{attrs:{\"id\":\"location-value\"}}),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"location-value-units\"}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"日期 | \"),_c('span',{staticClass:\"local\",attrs:{\"id\":\"data-date\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"描述 | \"),_c('span',{attrs:{\"id\":\"data-layer\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('span',{attrs:{\"id\":\"scale-label\"}},[_vm._v(\"色标 | \")]),_c('canvas',{attrs:{\"id\":\"scale\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"来源 | \"),_c('span',{attrs:{\"id\":\"data-center\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"模式 | \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"ncep-mode-enable\"}},[_vm._v(\"NCEP\")]),_vm._v(\" – \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"ocean-mode-enable\"}},[_vm._v(\"Ocean\")]),_vm._v(\" – \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"cma-mode-enable\"}},[_vm._v(\"CMA\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"ncep-mode\"},[_vm._v(\"位势高度 | \"),_c('span',{staticClass:\"surface text-button\",attrs:{\"id\":\"surface-level\",\"title\":\"Surface\"}},[_vm._v(\"地表\")]),_vm._v(\" – \"),_c('span',{staticClass:\"surface text-button\",attrs:{\"id\":\"isobaric-1000hPa\"}},[_vm._v(\"1000\")]),_vm._v(\" – \"),_c('span',{staticClass:\"surface text-button\",attrs:{\"id\":\"isobaric-850hPa\"}},[_vm._v(\"850\")]),_vm._v(\" – \"),_c('span',{staticClass:\"surface text-button\",attrs:{\"id\":\"isobaric-700hPa\"}},[_vm._v(\"700\")]),_vm._v(\" – \"),_c('span',{staticClass:\"surface text-button\",attrs:{\"id\":\"isobaric-500hPa\"}},[_vm._v(\"500\")]),_vm._v(\" – \"),_c('span',{staticClass:\"surface text-button\",attrs:{\"id\":\"isobaric-250hPa\"}},[_vm._v(\"250\")]),_vm._v(\" – \"),_c('span',{staticClass:\"surface text-button\",attrs:{\"id\":\"isobaric-70hPa\"}},[_vm._v(\"70\")]),_vm._v(\" – \"),_c('span',{staticClass:\"surface text-button\",attrs:{\"id\":\"isobaric-10hPa\"}},[_vm._v(\"10\")]),_vm._v(\" hPa \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"ncep-mode\"},[_vm._v(\"要素/变量| \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"overlay-off\"}},[_vm._v(\"None\")]),_vm._v(\" – \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"overlay-wind\",\"title\":\"Wind Speed\"}},[_vm._v(\"Wind\")]),_vm._v(\" – \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"overlay-temp\",\"title\":\"Temperature\"}},[_vm._v(\"Temp\")]),_vm._v(\" – \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"overlay-relative_humidity\",\"title\":\"Relative Humidity\"}},[_vm._v(\"RH\")]),_vm._v(\" – \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"overlay-air_density\",\"title\":\"Air Density\"}},[_vm._v(\"AD\")]),_vm._v(\" – \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"overlay-wind_power_density\",\"title\":\"Wind Power Density\"}},[_vm._v(\"WPD\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"ncep-mode\"},[_c('span',{staticStyle:{\"visibility\":\"hidden\"}},[_vm._v(\"Overlay\")]),_vm._v(\" | \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"overlay-total_precipitable_water\",\"title\":\"Total Precipitable Water\"}},[_vm._v(\"TPW\")]),_vm._v(\" – \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"overlay-total_cloud_water\",\"title\":\"Total Cloud Water\"}},[_vm._v(\"TCW\")]),_vm._v(\" –\"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"overlay-mslp\",\"title\":\"平均海平面气压\"}},[_vm._v(\"MSLP\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"cma-mode\"},[_vm._v(\"位势高度 | \"),_c('span',{staticClass:\"cmasurface text-button\",attrs:{\"id\":\"cmasurface-level\",\"title\":\"Surface\"}},[_vm._v(\"地表\")]),_vm._v(\" – \"),_c('span',{staticClass:\"cmasurface text-button\",attrs:{\"id\":\"cmaisobaric-1000hPa\"}},[_vm._v(\"1000\")]),_vm._v(\" – \"),_c('span',{staticClass:\"cmasurface text-button\",attrs:{\"id\":\"cmaisobaric-850hPa\"}},[_vm._v(\"850\")]),_vm._v(\" – \"),_c('span',{staticClass:\"cmasurface text-button\",attrs:{\"id\":\"cmaisobaric-700hPa\"}},[_vm._v(\"700\")]),_vm._v(\" – \"),_c('span',{staticClass:\"cmasurface text-button\",attrs:{\"id\":\"cmaisobaric-500hPa\"}},[_vm._v(\"500\")]),_vm._v(\" – \"),_c('span',{staticClass:\"cmasurface text-button\",attrs:{\"id\":\"cmaisobaric-250hPa\"}},[_vm._v(\"250\")]),_vm._v(\" – \"),_c('span',{staticClass:\"cmasurface text-button\",attrs:{\"id\":\"cmaisobaric-70hPa\"}},[_vm._v(\"70\")]),_vm._v(\" – \"),_c('span',{staticClass:\"cmasurface text-button\",attrs:{\"id\":\"cmaisobaric-10hPa\"}},[_vm._v(\"10\")]),_vm._v(\" hPa \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"cma-mode\"},[_vm._v(\"要素/变量| \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"overlay-cma-off\"}},[_vm._v(\"None\")]),_vm._v(\" – \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"overlay-cmawind\",\"title\":\"Wind Speed\"}},[_vm._v(\"Wind\")]),_vm._v(\" – \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"overlay-cmatemp\",\"title\":\"Temperature\"}},[_vm._v(\"Temp\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"cma-mode invisible\"},[_c('span',{staticStyle:{\"visibility\":\"hidden\"}},[_vm._v(\"Overlay\")]),_vm._v(\" |\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"ocean-mode invisible\"},[_vm._v(\"Animate | \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"animate-currents\",\"title\":\"Currents\"}},[_vm._v(\"Currents\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"ocean-mode invisible\"},[_vm._v(\"要素/变量| \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"overlay-ocean-off\"}},[_vm._v(\"None\")]),_vm._v(\" – \"),_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"overlay-currents\",\"title\":\"Currents\"}},[_vm._v(\"Currents\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"ocean-mode invisible\"},[_c('span',{staticStyle:{\"visibility\":\"hidden\"}},[_vm._v(\"Overlay\")]),_vm._v(\" |\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"投影方式 | \"),_c('span',{staticClass:\"proj text-button\",attrs:{\"id\":\"atlantis\",\"title\":\"Atlantis\"}},[_vm._v(\"A\")]),_vm._v(\" – \"),_c('span',{staticClass:\"proj text-button\",attrs:{\"id\":\"azimuthal_equidistant\",\"title\":\"Azimuthal Equidistant\"}},[_vm._v(\"AE\")]),_vm._v(\" – \"),_c('span',{staticClass:\"proj text-button\",attrs:{\"id\":\"conic_equidistant\",\"title\":\"Conic Equidistant\"}},[_vm._v(\"CE\")]),_vm._v(\" – \"),_c('span',{staticClass:\"proj text-button\",attrs:{\"id\":\"equirectangular\",\"title\":\"Equirectangular\"}},[_vm._v(\"E\")]),_vm._v(\" – \"),_c('span',{staticClass:\"proj text-button\",attrs:{\"id\":\"orthographic\",\"title\":\"Orthographic\"}},[_vm._v(\"O\")]),_vm._v(\" – \"),_c('span',{staticClass:\"proj text-button\",attrs:{\"id\":\"stereographic\",\"title\":\"Stereographic\"}},[_vm._v(\"S\")]),_vm._v(\" – \"),_c('span',{staticClass:\"proj text-button\",attrs:{\"id\":\"waterman\",\"title\":\"Waterman Butterfly\"}},[_vm._v(\"WB\")]),_vm._v(\" – \"),_c('span',{staticClass:\"proj text-button\",attrs:{\"id\":\"winkel3\",\"title\":\"Winkel Tripel\"}},[_vm._v(\"W3\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{attrs:{\"id\":\"earth\"}},[_c('span',{staticClass:\"text-button\",attrs:{\"id\":\"show-menu\",\"title\":\"menu\"}},[_vm._v(\"控制面板\")]),_c('span',{staticClass:\"invisible\",attrs:{\"id\":\"progress\"}})])}]\n\nexport { render, staticRenderFns }","<!--\n * @Author: Liu Yang\n * @Date: 2021-08-17 13:33:52\n * @LastEditTime: 2021-08-24 14:42:21\n * @LastEditors: Liu Yang\n * @FilePath: \\earth-vue\\src\\components\\MyEarth.vue\n-->\n<template>\n  <div class=\"hello\">\n    <div id=\"display\">\n      <svg id=\"map\"\n           class=\"fill-screen\"\n           xmlns=\"http://www.w3.org/2000/svg\"\n           version=\"1.1\"></svg>\n      <canvas id=\"animation\"\n              class=\"fill-screen\"></canvas>\n      <canvas id=\"overlay\"\n              class=\"fill-screen\"></canvas>\n      <svg id=\"foreground\"\n           class=\"fill-screen\"\n           xmlns=\"http://www.w3.org/2000/svg\"\n           version=\"1.1\"></svg>\n    </div>\n\n    <!-- <div id=\"sponsor\" class=\"invisible\">\n    <p><span id=\"sponsor-hide\" class=\"text-button invisible\"> ✕ </span>community</p>\n    <a id=\"sponsor-link\" href=\"https://www.facebook.com/EarthWindMap\">EarthWindMap</a>\n  </div> -->\n\n    <div id=\"details\">\n      <p id=\"status\"></p>\n      <div id=\"location\">\n        <p>\n          <span id=\"location-coord\"></span>\n          <span id=\"location-close\"\n                class=\"invisible text-button\"> ✕ </span>\n        </p>\n        <p>\n          <span id=\"location-wind\"></span>\n          <span id=\"location-wind-units\"\n                class=\"text-button\"></span>\n        </p>\n        <p>\n          <span id=\"location-value\"></span>\n          <span id=\"location-value-units\"\n                class=\"text-button\"></span>\n        </p>\n      </div>\n\n      <div id=\"menu\"\n           class=\"invisible\">\n        <p>日期 | <span id=\"data-date\"\n                class=\"local\"></span>\n          <!-- <span id=\"toggle-zone\"\n                class=\"text-button\"></span> -->\n        </p>\n        <p>描述 | <span id=\"data-layer\"></span></p>\n        <p><span id=\"scale-label\">色标 | </span><canvas id=\"scale\"></canvas></p>\n        <p>来源 | <span id=\"data-center\"></span></p>\n        <p>操作 | <span class=\"text-button\"\n                id=\"nav-now\"\n                title=\"Current Conditions\">Now</span>\n          <span class=\"text-button\"\n                id=\"nav-backward-more\"> </span> –\n          <span class=\"text-button\"\n                id=\"nav-backward\"> ‹ </span> –\n          <span class=\"text-button\"\n                id=\"nav-forward\"> ›</span> –\n          <span class=\"text-button\"\n                id=\"nav-forward-more\"> » </span>\n          <span class=\"text-button\"\n                id=\"show-location\"\n                title=\"Current Position\"\n                @click=\"handleClick\">〖◯〗</span>\n          <span class=\"text-button\"\n                id=\"option-show-grid\"\n                title=\"Toggle Grid\">Grid </span>\n          <!-- <span class=\"text-button el-icon-video-play\"\n                id=\"option-show-play\"\n                title=\"启动/停用动画\"></span> -->\n        </p>\n        <p>模式 |\n          <span class=\"text-button\"\n                id=\"ncep-mode-enable\">NCEP</span>\n          – <span class=\"text-button\"\n                id=\"ocean-mode-enable\">Ocean</span>\n          – <span class=\"text-button\"\n                id=\"cma-mode-enable\">CMA</span>\n        </p>\n        <!-- 增加模式 -->\n\n        <!-- ncep -->\n        <p class=\"ncep-mode\">位势高度 |\n          <span class=\"surface text-button\"\n                id=\"surface-level\"\n                title=\"Surface\">地表</span> –\n          <span class=\"surface text-button\"\n                id=\"isobaric-1000hPa\">1000</span> –\n          <span class=\"surface text-button\"\n                id=\"isobaric-850hPa\">850</span> –\n          <span class=\"surface text-button\"\n                id=\"isobaric-700hPa\">700</span> –\n          <span class=\"surface text-button\"\n                id=\"isobaric-500hPa\">500</span> –\n          <span class=\"surface text-button\"\n                id=\"isobaric-250hPa\">250</span> –\n          <span class=\"surface text-button\"\n                id=\"isobaric-70hPa\">70</span> –\n          <span class=\"surface text-button\"\n                id=\"isobaric-10hPa\">10</span> hPa\n        </p>\n        <p class=\"ncep-mode\">要素/变量|\n          <span class=\"text-button\"\n                id=\"overlay-off\">None</span>\n          – <span class=\"text-button\"\n                id=\"overlay-wind\"\n                title=\"Wind Speed\">Wind</span>\n          – <span class=\"text-button\"\n                id=\"overlay-temp\"\n                title=\"Temperature\">Temp</span>\n          – <span class=\"text-button\"\n                id=\"overlay-relative_humidity\"\n                title=\"Relative Humidity\">RH</span>\n          – <span class=\"text-button\"\n                id=\"overlay-air_density\"\n                title=\"Air Density\">AD</span>\n          – <span class=\"text-button\"\n                id=\"overlay-wind_power_density\"\n                title=\"Wind Power Density\">WPD</span>\n        </p>\n        <p class=\"ncep-mode\"><span style=\"visibility:hidden\">Overlay</span> |\n          <span class=\"text-button\"\n                id=\"overlay-total_precipitable_water\"\n                title=\"Total Precipitable Water\">TPW</span>\n          – <span class=\"text-button\"\n                id=\"overlay-total_cloud_water\"\n                title=\"Total Cloud Water\">TCW</span>\n          –<span class=\"text-button\"\n                id=\"overlay-mslp\"\n                title=\"平均海平面气压\">MSLP</span>\n        </p>\n        <!-- cma 增加模式 -->\n        <p class=\"cma-mode\">位势高度 |\n          <span class=\"cmasurface text-button\"\n                id=\"cmasurface-level\"\n                title=\"Surface\">地表</span> –\n          <span class=\"cmasurface text-button\"\n                id=\"cmaisobaric-1000hPa\">1000</span> –\n          <span class=\"cmasurface text-button\"\n                id=\"cmaisobaric-850hPa\">850</span> –\n          <span class=\"cmasurface text-button\"\n                id=\"cmaisobaric-700hPa\">700</span> –\n          <span class=\"cmasurface text-button\"\n                id=\"cmaisobaric-500hPa\">500</span> –\n          <span class=\"cmasurface text-button\"\n                id=\"cmaisobaric-250hPa\">250</span> –\n          <span class=\"cmasurface text-button\"\n                id=\"cmaisobaric-70hPa\">70</span> –\n          <span class=\"cmasurface text-button\"\n                id=\"cmaisobaric-10hPa\">10</span> hPa\n        </p>\n        <p class=\"cma-mode\">要素/变量|\n          <span class=\"text-button\"\n                id=\"overlay-cma-off\">None</span>\n          – <span class=\"text-button\"\n                id=\"overlay-cmawind\"\n                title=\"Wind Speed\">Wind</span>\n          – <span class=\"text-button\"\n                id=\"overlay-cmatemp\"\n                title=\"Temperature\">Temp</span>\n        </p>\n        <p class=\"cma-mode invisible\"><span style=\"visibility:hidden\">Overlay</span> |</p>\n        <!-- ocean -->\n        <p class=\"ocean-mode invisible\">Animate |\n          <span class=\"text-button\"\n                id=\"animate-currents\"\n                title=\"Currents\">Currents</span>\n        </p>\n        <p class=\"ocean-mode invisible\">要素/变量| <span class=\"text-button\"\n                id=\"overlay-ocean-off\">None</span> – <span class=\"text-button\"\n                id=\"overlay-currents\"\n                title=\"Currents\">Currents</span>\n        </p>\n        <p class=\"ocean-mode invisible\"><span style=\"visibility:hidden\">Overlay</span> |</p>\n\n        <p>投影方式 | <span class=\"proj text-button\"\n                id=\"atlantis\"\n                title=\"Atlantis\">A</span> – <span class=\"proj text-button\"\n                id=\"azimuthal_equidistant\"\n                title=\"Azimuthal Equidistant\">AE</span> – <span class=\"proj text-button\"\n                id=\"conic_equidistant\"\n                title=\"Conic Equidistant\">CE</span> – <span class=\"proj text-button\"\n                id=\"equirectangular\"\n                title=\"Equirectangular\">E</span> – <span class=\"proj text-button\"\n                id=\"orthographic\"\n                title=\"Orthographic\">O</span> – <span class=\"proj text-button\"\n                id=\"stereographic\"\n                title=\"Stereographic\">S</span> – <span class=\"proj text-button\"\n                id=\"waterman\"\n                title=\"Waterman Butterfly\">WB</span> – <span class=\"proj text-button\"\n                id=\"winkel3\"\n                title=\"Winkel Tripel\">W3</span>\n        </p>\n        <!--<p>免責事項 | 正確な情報を提供するためのものではありません</p>-->\n        <!-- <p id=\"lang\"><a href=\"/jp\" class=\"internal-link\">日本語</a></p>\n      <p>\n        <a href=\"about.html\" class=\"internal-link\">about</a>\n        <a href=\"https://www.facebook.com/EarthWindMap\" class=\"social-icon\" title=\"Facebook\">&#xe027;</a>\n        <a href=\"https://twitter.com/cambecc\" class=\"social-icon\" title=\"Twitter\">&#xe086;</a>\n      </p> -->\n      </div>\n\n      <p id=\"earth\">\n        <span id=\"show-menu\"\n              class=\"text-button\"\n              title=\"menu\">控制面板</span>\n        <span id=\"progress\"\n              class=\"invisible\"></span>\n      </p>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'MyEarth',\n  data () {\n    return {\n      timerNum: 0,\n      coord: [116.20, 39.56],  //当前位置\n\n      SECOND: 1000,\n      MINUTE: 60 * this.SECOND,\n      HOUR: 60 * this.MINUTE,\n      MAX_TASK_TIME: 100,                  // 任务产生控制之前的时间量（毫秒）\n      MIN_SLEEP_TIME: 25,                  // 任务在恢复之前等待的时间量（毫秒）\n      MIN_MOVE: 4,                         // 拖动操作前的松弛（像素）\n      MOVE_END_WAIT: 100,                  // 等待移动操作完成的时间（毫秒）\n\n      OVERLAY_ALPHA: Math.floor(0.4 * 255),  // 覆盖透明度（比例为[0255]）\n      INTENSITY_SCALE_STEP: 10,            // 粒子强度色标的步长\n      MAX_PARTICLE_AGE: 100,               // 再生前绘制粒子的最大帧数\n      PARTICLE_LINE_WIDTH: 1.0,            // 绘制粒子的线宽\n      PARTICLE_MULTIPLIER: 7,              // 粒子计数标量（完全任意——该值看起来不错）\n      PARTICLE_REDUCTION: 0.75,            //将移动设备的粒子数减少到正常值的这么多\n      FRAME_RATE: 40,                      // 所需的每帧毫秒数\n\n      NULL_WIND_VECTOR: [NaN, NaN, null],  // 向量场[u，v，mag]外未定义位置的单态\n      HOLE_VECTOR: [NaN, NaN, null],       // 表示向量场中的一个洞的单粒子\n      TRANSPARENT_BLACK: [0, 0, 0, 0],     // 单例0 rgba\n      REMAINING: \"▫▫▫▫▫▫▫▫▫▫▫▫▫▫▫▫▫▫▫▫▫▫\",   // 剩余进度条的图示符\n      COMPLETED: \"▪▪▪▪▪▪▪▪▪▪▪▪▪▪▪▪▪▪▪▪▪▪\",   // 完成进度条的图示符\n    }\n  },\n  mounted () {\n    this.init()\n  },\n  methods: {\n    init () {\n      try {\n        this.earthJs()\n      } catch (error) {\n        this.timerNum++\n        console.log(error)\n        if (this.timerNum < 10) {\n          setTimeout(() => {\n            this.init()\n          }, 500);\n        } else {\n          window.alert('初始化失败')\n        }\n      }\n    },\n\n    earthJs () {\n      let that = this\n      var view = µ.view();\n      var log = µ.log();\n\n      /**\n       * 向用户显示各种类型消息的对象。\n       */\n      var report = function () {\n        var s = d3.select(\"#status\"), p = d3.select(\"#progress\"), total = that.REMAINING.length;\n        return {\n          status: function (msg) {\n            return s.classed(\"bad\") ? s : s.text(msg);  // errors are sticky until reset\n          },\n          error: function (err) {\n            var msg = err.status ? err.status + \" \" + err.message : err;\n            switch (err.status) {\n              case -1: msg = \"Server Down\"; break;\n              case 404: msg = \"No Data\"; break;\n            }\n            log.error(err);\n            return s.classed(\"bad\", true).text(msg);\n          },\n          reset: function () {\n            return s.classed(\"bad\", false).text(\"\");\n          },\n          progress: function (amount) {  // 要报告的进度量在[0,1]范围内\n            if (0 <= amount && amount < 1) {\n              var i = Math.ceil(amount * total);\n              var bar = that.COMPLETED.substr(0, i) + that.REMAINING.substr(0, total - i);\n              return p.classed(\"invisible\", false).text(bar);\n            }\n            return p.classed(\"invisible\", true).text(\"\");  //进展完成\n          }\n        };\n      }();\n\n      function newAgent () {\n        return µ.newAgent().on({ \"reject\": report.error, \"fail\": report.error });\n      }\n\n      // 构建页面的主要内部组件：\n      var configuration =\n        µ.buildConfiguration(globes, products.overlayTypes);  // 保存页面的当前配置设置\n      var inputController = buildInputController();  //解释拖动/缩放操作\n      var meshAgent = newAgent();      // map data for the earth 地球地图数据\n      var globeAgent = newAgent();     // the model of the globe 地球模型\n      var gridAgent = newAgent();      // the grid of weather data 天气数据网格\n      var rendererAgent = newAgent();  // the globe SVG renderer 全球SVG渲染器\n      var fieldAgent = newAgent();     // the interpolated wind vector field 插值风矢量场\n      var animatorAgent = newAgent();  // the wind animator 风动画师\n      var overlayAgent = newAgent();   // color overlay over the animation 动画上的颜色覆盖\n      var kuangAgent = newAgent();     //款选格子\n\n      console.log(kuangAgent)\n\n      /**\n      *输入控制器是一个将移动操作（拖动和/或缩放）转换为对象变量的对象   \n      *当前globe的投影，并发出事件，以便其他页面组件可以对这些移动操作作出反应。\n      *\n      *D3的内置缩放行为用于绑定文档的拖动/缩放事件和输入控制器\n      *将D3事件解释为全球移动操作。由于计算复杂，这种方法比较复杂\n      *拖动和缩放期间发生的事件行为。\n      *\n      *D3移动操作通常作为“zoomstart”->（“zoom”）*->“ZoomMend”事件链发生。在“缩放”事件期间\n      *缩放和鼠标可能会改变，这意味着相应地进行缩放或拖动操作。这些行动相当困难\n      *吵闹。否则，一次平滑连续缩放通常由几个“zoomstart”->\n      * “缩放”->“缩放修复”事件链。去抖器用于通过等待一小段时间来消除噪声\n      *确保用户已完成移动操作的时间。\n      *\n      *“缩放”事件可能不会发生；一个简单的点击操作如下：“zoomstart”->“ZoomMend”。有\n      *其他角点情况下的附加逻辑，例如仅移动地球几像素的伪拖拽\n      *（最有可能是无意的），以及某些触摸设备发出无序事件的趋势：\n      *“zoom”->“zoomstart”->“ZoomMend”。\n    *\n    \n      *此对象为移动操作发出干净的“moveStart”->（“move”）*->“moveEnd”事件和“click”事件\n    \n      *对于正常的点击。虚假动作不会产生事件。\n       */\n      //地图拖拽缩放：\n      function buildInputController () {\n        var globe, op = null;\n        /**\n         * @returns {Object} 表示一次移动操作状态的对象。\n         */\n        function newOp (startMouse, startScale) {\n          return {\n            type: \"click\",  //最初假定为单击操作\n            startMouse: startMouse,\n            startScale: startScale,\n            manipulator: globe.manipulator(startMouse, startScale)\n          };\n        }\n\n        var zoom = d3.behavior.zoom()\n          .on(\"zoomstart\", function () {\n            console.log(globe)\n            op = op || newOp(d3.mouse(this), zoom.scale());  // 新的手术开始了\n          })\n          .on(\"zoom\", function () {\n            var currentMouse = d3.mouse(this), currentScale = d3.event.scale;\n            op = op || newOp(currentMouse, 1);  // 修复了某些浏览器上zoomstart无序启动的错误\n            if (op.type === \"click\" || op.type === \"spurious\") {\n              var distanceMoved = µ.distance(currentMouse, op.startMouse);\n              console.log(distanceMoved)\n              if (currentScale === op.startScale && distanceMoved < that.MIN_MOVE) {\n                // 为了减少麻烦，若鼠标几乎并没有移动，并且并没有发生缩放，那个么忽略op\n                op.type = distanceMoved > 0 ? \"click\" : \"spurious\";\n                return;\n              }\n              dispatch.trigger(\"moveStart\");\n              op.type = \"drag\";\n            }\n            if (currentScale != op.startScale) {\n              op.type = \"zoom\";  // 每当检测到缩放变化时，（粘滞地）切换到缩放操作\n            }\n\n            // 当缩放时，忽略鼠标正在做的任何事情——真正清理触摸设备上的行为\n            op.manipulator.move(op.type === \"zoom\" ? null : currentMouse, currentScale);\n            dispatch.trigger(\"move\");\n            drawRect()\n\n          })\n          .on(\"zoomend\", function () {\n            op.manipulator.end();\n            if (op.type === \"click\") {\n              // 执行 drawLocationMark\n              console.log('位置：', op.startMouse)\n              console.log('经纬度：', globe.projection.invert(op.startMouse) || [])\n              dispatch.trigger(\"click\", op.startMouse, globe.projection.invert(op.startMouse) || []);\n            }\n            else if (op.type !== \"spurious\") {\n              console.log(3434)\n              signalEnd();\n            }\n            op = null;  // 拖动/缩放/单击操作已结束\n            drawRect()\n          });\n\n        var signalEnd = _.debounce(function () {\n          if (!op || op.type !== \"drag\" && op.type !== \"zoom\") {\n            configuration.save({ orientation: globe.orientation() }, { source: \"moveEnd\" });\n            dispatch.trigger(\"moveEnd\");\n          }\n        }, that.MOVE_END_WAIT);  // 请稍等片刻，以确定用户是否已停止移动地球仪\n\n        d3.select(\"#display\").call(zoom);\n        d3.select(\"#show-location\").on(\"click\", function () {\n          if (navigator.geolocation) {\n            report.status(\"查找当前位置中...\");\n            // navigator.geolocation.getCurrentPosition(function (pos) {\n            report.status(\"\");\n            //pc这里定位不到，先直接定位到北京吧\n            var coord = that.coord, rotate = globe.locate(coord);\n            console.log(rotate, globe.orientation(), globe.projection(coord))\n            if (rotate) {\n              globe.projection.rotate(rotate); //旋转\n              configuration.save({ orientation: globe.orientation() });  // 触发重新定向\n            }\n            // 执行 drawLocationMark\n            dispatch.trigger(\"click\", globe.projection(coord), coord); //添加圆点 单例\n\n            // },\n            //   function (err) {\n            //     alert(err.code);\n            //     // code：返回获取位置的状态\n            //     //          0  :  不包括其他错误编号中的错误\n            //     // ​             1  :  用户拒绝浏览器获取位置信息\n            //     // ​             2  :  尝试获取用户信息，但失败了\n            //     // ​             3  :   设置了timeout值，获取位置超时了\n            //   },\n            //   {\n            //     enableHighAcuracy: true, //位置是否精确获取\n            //     timeout: 5000,            //获取位置允许的最长时间\n            //     maximumAge: 1000          //多久更新获取一次位置\n            //   }\n            // )\n          }\n        });\n\n        //播放按钮\n        // d3.select(\"#option-show-play\").on(\"click\", function () {\n        //   configuration.save({ showPlay: !configuration.get(\"showPlay\") });\n        // });\n        // configuration.on(\"change:showPlay\", function (x, showPlay) {\n        //   if (showPlay) {\n        //     stopCurrentAnimation(true)\n        //   }else{\n        //   }\n        //   console.log(showPlay)\n        //   // setTimeout(() => {\n        //   //   animatorAgent.listenTo(fieldAgent, \"update\", function (field) {\n        //   //     animatorAgent.submit(animate, globeAgent.value(), field, gridAgent.value());\n        //   //   });\n        //   // }, 3000);\n        //   d3.select(\"#option-show-play\").classed(\"highlighted\", showPlay);\n        // });\n\n        function reorient () {  //重新定向\n          var options = arguments[3] || {};\n          if (!globe || options.source === \"moveEnd\") {\n            //由于用户刚刚完成移动操作，所以发生了重新定向，因此globe已被删除\n            //方向正确。\n            return;\n          }\n          dispatch.trigger(\"moveStart\");\n          globe.orientation(configuration.get(\"orientation\"), view);\n          zoom.scale(globe.projection.scale());\n          dispatch.trigger(\"moveEnd\");\n        }\n\n        var dispatch = _.extend({\n          globe: function (_) {\n            if (_) {\n              globe = _;\n              zoom.scaleExtent(globe.scaleExtent());\n              reorient();\n            }\n            return _ ? this : globe;\n          }\n        }, Backbone.Events);\n        return dispatch.listenTo(configuration, \"change:orientation\", reorient);\n      }\n\n      //查询服务时，增加的回调，保证画矩形同步进行\n      function getData (data) {\n        console.log('服务返回结果------', data)\n        drawRect(true)\n      }\n      //画矩形：传入矩形经纬度（90W-80W, 10s-0），计算出矩形四个点的再3d上的位置，svg画图\n      function drawRect (isRotate) {  //90W-80W, 10s-0 ==> \n        //传入点获取点的位置116.20E, 39.56N 正数\n        let mglobe = globeAgent.value()\n        if (mglobe) {\n          let leftTop = mglobe.projection([-90, 0])\n          let rightTop = mglobe.projection([-80, 0])\n          let leftBottom = mglobe.projection([-90, -10])\n          let rightBottom = mglobe.projection([-80, -10])\n          let path = `M ${leftTop[0]} ${leftTop[1]} L${rightTop[0]} ${rightTop[1]} L${rightBottom[0]} ${rightBottom[1]} L${leftBottom[0]} ${leftBottom[1]} z`\n          var mark = d3.select(\".location-mark2\");\n          if (!mark.node()) {\n            mark = d3.select(\"#foreground\").append(\"path\").attr(\"class\", \"location-mark2\");\n          }\n          mark.datum({}).attr(\"d\", path);\n          if (isRotate) {\n            setTimeout(() => {\n              mglobe.projection.rotate([90, 0]); //旋转\n              configuration.save({ orientation: mglobe.orientation() });  // 触发重新定向\n            }, 500);\n          }\n        }\n      }\n\n      /**\n       * @param resource GeoJSON资源的URL\n       * @returns {Object} a promise for GeoJSON topology features: {boundaryLo:, boundaryHi:}\n       *                   用于GeoJSON拓扑功能的promise\n       */\n      function buildMesh (resource) {\n\n        var cancel = this.cancel;\n        report.status(\"正在下载...\");\n        return µ.loadJson(resource).then(topo => {\n          console.log(topo, '结果结果-----------------------------', resource)\n          if (cancel.requested) return null;\n          log.time(\"building meshes\");\n          var o = topo.objects;\n          var coastLo = topojson.feature(topo, µ.isMobile() ? o.coastline_tiny : o.coastline_110m);\n          var coastHi = topojson.feature(topo, µ.isMobile() ? o.coastline_110m : o.coastline_50m);\n          var lakesLo = topojson.feature(topo, µ.isMobile() ? o.lakes_tiny : o.lakes_110m);\n          var lakesHi = topojson.feature(topo, µ.isMobile() ? o.lakes_110m : o.lakes_50m);\n          log.timeEnd(\"building meshes\");\n          return {\n            coastLo: coastLo,\n            coastHi: coastHi,\n            lakesLo: lakesLo,\n            lakesHi: lakesHi\n          };\n        })\n      }\n\n      /**\n       * @param {String} projectionName 所需投影的名称。\n       * @returns {Object} a promise for a globe object.\n       */\n      function buildGlobe (projectionName) {\n        var builder = globes.get(projectionName);\n        if (!builder) {\n          return when.reject(\"Unknown projection: \" + projectionName);\n        }\n        return when(builder(view));\n      }\n\n      // 一些黑客的东西，以确保只有一个下载可以在同一时间进行\n      var downloadsInProgress = 0;\n\n      function buildGrids () {\n        report.status(\"正在下载...\");\n        log.time(\"build grids\");\n        //撤消：加载产品失败时，卸载的产品仍应存储在代理中。\n        //这允许我们使用该产品进行导航和其他状态。\n        var cancel = this.cancel;\n        downloadsInProgress++;\n        var loaded = when.map(products.productsFor(configuration.attributes), function (product) {\n          return product.load(cancel, getData);\n        });\n        return when.all(loaded).then(function (products) {\n          log.time(\"build grids\");\n          return { primaryGrid: products[0], overlayGrid: products[1] || products[0] };\n        }).ensure(function () {\n          downloadsInProgress--;\n        });\n      }\n\n\n      /**\n       * 修改配置以按时间顺序导航到下一个或上一个数据层。\n       */\n      function navigate (step) {\n        if (downloadsInProgress > 0) {\n          log.debug(\"Download in progress--ignoring nav request.\");\n          return;\n        }\n        var next = gridAgent.value().primaryGrid.navigate(step);\n        if (next) {\n          configuration.save(µ.dateToConfig(next));\n        }\n      }\n      // 画图相关\n      function buildRenderer (mesh, globe) {\n        if (!mesh || !globe) return null;\n        report.status(\"渲染地图中...\");\n        log.time(\"rendering map\");\n\n        // UNDONE: better way to do the following?\n        var dispatch = _.clone(Backbone.Events);\n        if (rendererAgent._previous) {\n          rendererAgent._previous.stopListening();\n        }\n        rendererAgent._previous = dispatch;\n\n        //首先清除地图和前景svg内容。\n        µ.removeChildren(d3.select(\"#map\").node());\n        µ.removeChildren(d3.select(\"#foreground\").node());\n        // 创建新的地图svg元素\n        globe.defineMap(d3.select(\"#map\"), d3.select(\"#foreground\"));\n        var path = d3.geo.path().projection(globe.projection).pointRadius(7);\n        var coastline = d3.select(\".coastline\");\n        var lakes = d3.select(\".lakes\");\n        d3.selectAll(\"path\").attr(\"d\", path);  // 进行初始绘制--修复safari的问题\n        //点击地球添加圆点\n        function drawLocationMark (point, coord) {\n          // show the location on the map if defined 在地图上显示位置（如果已定义）\n          if (fieldAgent.value() && !fieldAgent.value().isInsideBoundary(point[0], point[1])) {\n            //撤消：有时会在旧的、已发布的字段上调用此命令，因为新字段尚未被调用\n            //尚未建造，导致标记无法绘制。\n            return;  // 在场边界之外，因此忽略。\n          }\n\n          if (coord && _.isFinite(coord[0]) && _.isFinite(coord[1])) {\n            var mark = d3.select(\".location-mark\");\n            if (!mark.node()) {\n              mark = d3.select(\"#foreground\").append(\"path\").attr(\"class\", \"location-mark\");\n            }\n            mark.datum({ type: \"Point\", coordinates: coord }).attr(\"d\", path);\n          }\n        }\n\n        //如果当前可见位置标记，则绘制位置标记\n        if (activeLocation.point && activeLocation.coord) {\n          drawLocationMark(activeLocation.point, activeLocation.coord);\n        }\n\n        // 节流绘制方法有助于处理速度较慢的设备，这些设备可能会被太多的重画事件淹没。\n        var REDRAW_WAIT = 5;  // milliseconds\n        var doDraw_throttled = _.throttle(doDraw, REDRAW_WAIT, { leading: false });\n\n        function doDraw () {\n          d3.selectAll(\"path\").attr(\"d\", path);\n          rendererAgent.trigger(\"redraw\");\n          doDraw_throttled = _.throttle(doDraw, REDRAW_WAIT, { leading: false });\n        }\n\n        // 附加到输入控制器上的贴图渲染事件。\n        dispatch.listenTo(\n          inputController, {\n          moveStart: function () {\n            coastline.datum(mesh.coastLo);\n            lakes.datum(mesh.lakesLo);\n            rendererAgent.trigger(\"start\");\n          },\n          move: function () {\n            doDraw_throttled();\n          },\n          moveEnd: function () {\n            coastline.datum(mesh.coastHi);\n            lakes.datum(mesh.lakesHi);\n            d3.selectAll(\"path\").attr(\"d\", path);\n            rendererAgent.trigger(\"render\");\n          },\n          click: drawLocationMark\n        });\n\n        //最后，将globe模型注入到输入控制器中。在下一个活动回合进行，以确保\n        //渲染器在事件开始流动之前已完全设置。\n        when(true).then(function () {\n          inputController.globe(globe);\n        });\n\n        log.timeEnd(\"rendering map\");\n        return \"ready\";\n      }\n      //创建遮罩\n      function createMask (globe) {\n        if (!globe) return null;\n        log.time(\"render mask\");\n        // 创建分离的画布，要求模型定义遮罩多边形，然后使用不透明颜色填充。\n        var width = view.width, height = view.height;\n        var canvas = d3.select(document.createElement(\"canvas\")).attr(\"width\", width).attr(\"height\", height).node();\n        var context = globe.defineMask(canvas.getContext(\"2d\"));\n        context.fillStyle = \"rgba(255, 0, 0, 1)\";\n        context.fill();\n        // d3.select(\"#display\").node().appendChild(canvas);  // make mask visible for debugging\n\n        var imageData = context.getImageData(0, 0, width, height);\n        var data = imageData.data;  // layout: [r, g, b, a, r, g, b, a, ...]\n        log.timeEnd(\"render mask\");\n        return {\n          imageData: imageData,\n          isVisible: function (x, y) {\n            var i = (y * width + x) * 4;\n            return data[i + 3] > 0;  // non-zero alpha means pixel is visible\n          },\n          set: function (x, y, rgba) {\n            var i = (y * width + x) * 4;\n            data[i] = rgba[0];\n            data[i + 1] = rgba[1];\n            data[i + 2] = rgba[2];\n            data[i + 3] = rgba[3];\n            return this;\n          }\n        };\n      }\n      //创建字段\n      function createField (columns, bounds, mask) {\n\n        /**\n         * @returns {Array} wind vector [u, v, magnitude] at the point (x, y), or [NaN, NaN, null] if wind\n         *          is undefined at that point.\n         */\n        function field (x, y) {\n          var column = columns[Math.round(x)];\n          return column && column[Math.round(y)] || that.NULL_WIND_VECTOR;\n        }\n\n        /**\n         * @returns {boolean} true if the field is valid at the point (x, y)\n         */\n        field.isDefined = function (x, y) {\n          return field(x, y)[2] !== null;\n        };\n\n        /**\n         * @returns {boolean} true if the point (x, y) lies inside the outer boundary of the vector field, even if\n         *          the vector field has a hole (is undefined) at that point, such as at an island in a field of\n         *          ocean currents.\n         */\n        field.isInsideBoundary = function (x, y) {\n          return field(x, y) !== that.NULL_WIND_VECTOR;\n        };\n\n        //为GC释放大量的“列”数组。如果没有这一点，则每次出现新的错误时，阵列都会泄漏（在Chrome中）\n        //字段被插入是因为字段闭包的上下文泄漏，原因无法解释。\n        field.release = function () {\n          columns = [];\n        };\n\n        field.randomize = function (o) {  // UNDONE: this method is terrible\n          var x, y;\n          var safetyNet = 0;\n          do {\n            x = Math.round(_.random(bounds.x, bounds.xMax));\n            y = Math.round(_.random(bounds.y, bounds.yMax));\n          } while (!field.isDefined(x, y) && safetyNet++ < 30);\n          o.x = x;\n          o.y = y;\n          return o;\n        };\n\n        field.overlay = mask.imageData;\n\n        return field;\n      }\n\n      /**\n      *计算由点（x，y）处的投影形状引起的风矢量失真。风\n      *向量在适当的位置被修改，并由该函数返回\n       */\n      function distort (projection, λ, φ, x, y, scale, wind) {\n        var u = wind[0] * scale;\n        var v = wind[1] * scale;\n        var d = µ.distortion(projection, λ, φ, x, y);\n\n        // Scale distortion vectors by u and v, then add.\n        wind[0] = d[0] * u + d[2] * v;\n        wind[1] = d[1] * u + d[3] * v;\n        return wind;\n      }\n\n      function interpolateField (globe, grids) {\n        if (!globe || !grids) return null;\n\n        var mask = createMask(globe);\n        var primaryGrid = grids.primaryGrid;\n        var overlayGrid = grids.overlayGrid;\n\n        log.time(\"interpolating field\");\n        var d = when.defer(), cancel = this.cancel;\n\n        var projection = globe.projection;\n        var bounds = globe.bounds(view);\n        //粒子在屏幕上移动的速度（为美观而选择的任意值）。\n        var velocityScale = bounds.height * primaryGrid.particles.velocityScale;\n\n        var columns = [];\n        var point = [];\n        var x = bounds.x;\n        var interpolate = primaryGrid.interpolate;\n        var overlayInterpolate = overlayGrid.interpolate;\n        var hasDistinctOverlay = primaryGrid !== overlayGrid;\n        var scale = overlayGrid.scale;\n\n        function interpolateColumn (x) {\n          var column = [];\n          for (var y = bounds.y; y <= bounds.yMax; y += 2) {\n            if (mask.isVisible(x, y)) {\n              point[0] = x; point[1] = y;\n              var coord = projection.invert(point);\n              var color = that.TRANSPARENT_BLACK;\n              var wind = null;\n              if (coord) {\n                var λ = coord[0], φ = coord[1];\n                if (isFinite(λ)) {\n                  wind = interpolate(λ, φ);\n                  var scalar = null;\n                  if (wind) {\n                    wind = distort(projection, λ, φ, x, y, velocityScale, wind);\n                    scalar = wind[2];\n                  }\n                  if (hasDistinctOverlay) {\n                    scalar = overlayInterpolate(λ, φ);\n                  }\n                  if (µ.isValue(scalar)) {\n                    color = scale.gradient(scalar, that.OVERLAY_ALPHA);\n                  }\n                }\n              }\n              column[y + 1] = column[y] = wind || that.HOLE_VECTOR;\n              mask.set(x, y, color).set(x + 1, y, color).set(x, y + 1, color).set(x + 1, y + 1, color);\n            }\n          }\n          columns[x + 1] = columns[x] = column;\n        }\n\n        report.status(\"\");\n\n        (function batchInterpolate () {\n          try {\n            if (!cancel.requested) {\n              var start = Date.now();\n              while (x < bounds.xMax) {\n                interpolateColumn(x);\n                x += 2;\n                if ((Date.now() - start) > that.MAX_TASK_TIME) {\n                  // Interpolation is taking too long. Schedule the next batch for later and yield.\n                  report.progress((x - bounds.x) / (bounds.xMax - bounds.x));\n                  setTimeout(batchInterpolate, that.MIN_SLEEP_TIME);\n                  return;\n                }\n              }\n            }\n            d.resolve(createField(columns, bounds, mask));\n          }\n          catch (e) {\n            d.reject(e);\n          }\n          report.progress(1);  // 100% complete\n          log.timeEnd(\"interpolating field\");\n        })();\n\n        return d.promise;\n      }\n\n      function animate (globe, field, grids) {\n        if (!globe || !field || !grids) return;\n\n        var cancel = this.cancel;\n        var bounds = globe.bounds(view);\n        //maxIntensity是粒子颜色强度最大时的速度\n        var colorStyles = µ.windIntensityColorScale(that.INTENSITY_SCALE_STEP, grids.primaryGrid.particles.maxIntensity);\n        var buckets = colorStyles.map(function () { return []; });\n        var particleCount = Math.round(bounds.width * that.PARTICLE_MULTIPLIER);\n        if (µ.isMobile()) {\n          particleCount *= that.PARTICLE_REDUCTION;\n        }\n        var fadeFillStyle = µ.isFF() ? \"rgba(0, 0, 0, 0.95)\" : \"rgba(0, 0, 0, 0.97)\";  // FF Mac alpha behaves oddly\n\n        // log.debug(\"particle count: \" + particleCount);\n        var particles = [];\n        for (var i = 0; i < particleCount; i++) {\n          particles.push(field.randomize({ age: _.random(0, that.MAX_PARTICLE_AGE) }));\n        }\n        // console.log(particles)\n\n        function evolve () {\n          buckets.forEach(function (bucket) { bucket.length = 0; });\n          particles.forEach(function (particle) {\n            if (particle.age > that.MAX_PARTICLE_AGE) {\n              field.randomize(particle).age = 0;\n            }\n            var x = particle.x;\n            var y = particle.y;\n            var v = field(x, y);  // vector at current position\n            var m = v[2];\n            if (m === null) {\n              particle.age = that.MAX_PARTICLE_AGE;  // particle has escaped the grid, never to return...\n            }\n            else {\n              var xt = x + v[0];\n              var yt = y + v[1];\n              if (field.isDefined(xt, yt)) {\n                // Path from (x,y) to (xt,yt) is visible, so add this particle to the appropriate draw bucket.\n                particle.xt = xt;\n                particle.yt = yt;\n                buckets[colorStyles.indexFor(m)].push(particle);\n              }\n              else {\n                // Particle isn't visible, but it still moves through the field.\n                particle.x = xt;\n                particle.y = yt;\n              }\n            }\n            particle.age += 1;\n          });\n        }\n\n        var g = d3.select(\"#animation\").node().getContext(\"2d\");\n        g.lineWidth = that.PARTICLE_LINE_WIDTH;\n        g.fillStyle = fadeFillStyle;\n\n        function draw () {\n          // Fade existing particle trails.\n          var prev = g.globalCompositeOperation;\n          g.globalCompositeOperation = \"destination-in\";\n          g.fillRect(bounds.x, bounds.y, bounds.width, bounds.height);\n          g.globalCompositeOperation = prev;\n\n          // Draw new particle trails.\n          buckets.forEach(function (bucket, i) {\n            if (bucket.length > 0) {\n              g.beginPath();\n              g.strokeStyle = colorStyles[i];\n              bucket.forEach(function (particle) {\n                g.moveTo(particle.x, particle.y);\n                g.lineTo(particle.xt, particle.yt);\n                particle.x = particle.xt;\n                particle.y = particle.yt;\n              });\n              g.stroke();\n            }\n          });\n        }\n\n        (function frame () {\n          try {\n            if (cancel.requested) {\n              field.release();\n              return;\n            }\n            evolve();\n            draw();\n            setTimeout(frame, that.FRAME_RATE);\n          }\n          catch (e) {\n            report.error(e);\n          }\n        })();\n      }\n\n      function drawGridPoints (ctx, grid, globe) {\n        if (!grid || !globe || !configuration.get(\"showGridPoints\")) return;\n\n        ctx.fillStyle = \"rgba(255, 255, 255, 1)\";\n        //使用投影流的剪裁行为快速绘制可见点。\n        var stream = globe.projection.stream({\n          point: function (x, y) {\n            ctx.fillRect(Math.round(x), Math.round(y), 1, 1);\n          }\n        });\n        grid.forEachPoint(function (λ, φ, d) {\n          if (µ.isValue(d)) {\n            stream.point(λ, φ);\n          }\n        });\n      }\n\n      function drawOverlay (field, overlayType) {\n        if (!field) return;\n\n        var ctx = d3.select(\"#overlay\").node().getContext(\"2d\"), grid = (gridAgent.value() || {}).overlayGrid;\n\n        µ.clearCanvas(d3.select(\"#overlay\").node());\n        µ.clearCanvas(d3.select(\"#scale\").node());\n        if (overlayType) {\n          if (overlayType !== \"off\") {\n            ctx.putImageData(field.overlay, 0, 0);\n          }\n          drawGridPoints(ctx, grid, globeAgent.value());\n        }\n\n        if (grid) {\n          //绘制颜色条以供参考。\n          var colorBar = d3.select(\"#scale\"), scale = grid.scale, bounds = scale.bounds;\n          var c = colorBar.node(), g = c.getContext(\"2d\"), n = c.width - 1;\n          for (var i = 0; i <= n; i++) {\n            var rgb = scale.gradient(µ.spread(i / n, bounds[0], bounds[1]), 1);\n            g.fillStyle = \"rgb(\" + rgb[0] + \",\" + rgb[1] + \",\" + rgb[2] + \")\";\n            g.fillRect(i, 0, 1, c.height);\n          }\n          //悬停时显示工具提示。\n          colorBar.on(\"mousemove\", function () {\n            var x = d3.mouse(this)[0];\n            var pct = µ.clamp((Math.round(x) - 2) / (n - 2), 0, 1);\n            var value = µ.spread(pct, bounds[0], bounds[1]);\n            var elementId = grid.type === \"wind\" ? \"#location-wind-units\" : \"#location-value-units\";\n            var units = createUnitToggle(elementId, grid).value();\n            colorBar.attr(\"title\", µ.formatScalar(value, units) + \" \" + units.label);\n          });\n        }\n      }\n\n      /**\n      *提取网格有效的日期，如果没有可用的网格，则提取当前日期。\n      *撤消：如果网格包含已卸载的产品，则可以从中提取日期。\n      *这个函数将很好地简化。\n       */\n      function validityDate (grids) {\n        //当活动层被视为“当前”时，请使用其当前时间，否则使用当前时间\n        //现在（但四舍五入到最近的三小时街区）。\n        var THREE_HOURS = 3 * that.HOUR;\n        var now = grids ? grids.primaryGrid.date.getTime() : Math.floor(Date.now() / THREE_HOURS) * THREE_HOURS;\n        var parts = configuration.get(\"date\").split(\"/\");  // yyyy/mm/dd or \"current\"\n        var hhmm = configuration.get(\"hour\");\n        return parts.length > 1 ?\n          Date.UTC(+parts[0], parts[1] - 1, +parts[2], +hhmm.substring(0, 2)) :\n          parts[0] === \"current\" ? now : null;\n      }\n\n      /**\n       * 在菜单中显示网格的有效日期。允许在本地时间和UTC时间之间切换。\n       */\n      function showDate (grids) {\n        var date = new Date(validityDate(grids)), isLocal = d3.select(\"#data-date\").classed(\"local\");\n        var formatted = isLocal ? µ.toLocalISO(date) : µ.toUTCISO(date);\n        d3.select(\"#data-date\").text(formatted + \" \" + (isLocal ? \"本地时间\" : \"UTC\"));\n        d3.select(\"#toggle-zone\").text(\"⇄ \" + (isLocal ? \"UTC\" : \"本地时间\"));\n      }\n\n      /**\n       * 在菜单中显示网格的类型。\n       */\n      function showGridDetails (grids) {\n        showDate(grids);\n        var description = \"\", center = \"\";\n        if (grids) {\n          var langCode = d3.select(\"body\").attr(\"data-lang\") || \"en\";\n          var pd = grids.primaryGrid.description(langCode), od = grids.overlayGrid.description(langCode);\n          description = od.name + od.qualifier;\n          if (grids.primaryGrid !== grids.overlayGrid) {\n            // Combine both grid descriptions together with a \" + \" if their qualifiers are the same.\n            description = (pd.qualifier === od.qualifier ? pd.name : pd.name + pd.qualifier) + \" + \" + description;\n          }\n          center = grids.overlayGrid.source;\n        }\n        d3.select(\"#data-layer\").text(description);\n        d3.select(\"#data-center\").text(center);\n      }\n\n      /**\n      *为指定产品的单位构造一个切换器，将切换状态存储在具有\n      *指定的id。例如，给定具有单位[“m/s”、“mph”]的产品，此\n      *方法将元素的“数据索引”属性设置为0表示m/s，1表示mph。调用value（）返回\n      *当前活动单位对象。调用next（）会增加索引。\n       */\n      function createUnitToggle (id, product) {\n        var units = product.units, size = units.length;\n        var index = +(d3.select(id).attr(\"data-index\") || 0) % size;\n        return {\n          value: function () {\n            return units[index];\n          },\n          next: function () {\n            d3.select(id).attr(\"data-index\", index = ((index + 1) % size));\n          }\n        };\n      }\n\n      /**\n       * 显示指定的风值。允许在不同类型的风机之间切换。\n       */\n      function showWindAtLocation (wind, product) {\n        var unitToggle = createUnitToggle(\"#location-wind-units\", product), units = unitToggle.value();\n        d3.select(\"#location-wind\").text(µ.formatVector(wind, units));\n        d3.select(\"#location-wind-units\").text(units.label).on(\"click\", function () {\n          unitToggle.next();\n          showWindAtLocation(wind, product);\n        });\n      }\n\n      /**\n       *显示指定的覆盖值。允许在不同类型的受支持单元之间切换。\n       */\n      function showOverlayValueAtLocation (value, product) {\n        var unitToggle = createUnitToggle(\"#location-value-units\", product), units = unitToggle.value();\n        d3.select(\"#location-value\").text(µ.formatScalar(value, units));\n        d3.select(\"#location-value-units\").text(units.label).on(\"click\", function () {\n          unitToggle.next();\n          showOverlayValueAtLocation(value, product);\n        });\n      }\n\n      //存储当前可见位置的点和坐标。这用于更新位置\n      //字段更改时的详细信息。\n      var activeLocation = {};\n\n      /**\n       *在给定的[x，y]点及其对应的[lon，lat]坐标处显示本地数据标注。\n       *该位置可能无效，在这种情况下，不显示详图索引。显示两者的位置数据\n       *主栅格和覆盖栅格，必要时执行插值。\n       */\n      function showLocationDetails (point, coord) {\n        drawRect()\n        // console.log(point, coord)\n        point = point || [];\n        coord = coord || [];\n        var grids = gridAgent.value(), field = fieldAgent.value(), λ = coord[0], φ = coord[1];\n        if (!field || !field.isInsideBoundary(point[0], point[1])) {\n          return;\n        }\n\n        clearLocationDetails(false);  // clean the slate\n        activeLocation = { point: point, coord: coord };  // 记住当前位置在哪里\n\n        if (_.isFinite(λ) && _.isFinite(φ)) {\n          d3.select(\"#location-coord\").text(µ.formatCoordinates(λ, φ));\n          d3.select(\"#location-close\").classed(\"invisible\", false);\n        }\n\n        if (field.isDefined(point[0], point[1]) && grids) {\n          var wind = grids.primaryGrid.interpolate(λ, φ);\n          if (µ.isValue(wind)) {\n            showWindAtLocation(wind, grids.primaryGrid);\n          }\n          if (grids.overlayGrid !== grids.primaryGrid) {\n            var value = grids.overlayGrid.interpolate(λ, φ);\n            if (µ.isValue(value)) {\n              showOverlayValueAtLocation(value, grids.overlayGrid);\n            }\n          }\n        }\n      }\n\n      function updateLocationDetails () {\n        showLocationDetails(activeLocation.point, activeLocation.coord);\n      }\n\n      function clearLocationDetails (clearEverything) {\n        d3.select(\"#location-coord\").text(\"\");\n        d3.select(\"#location-close\").classed(\"invisible\", true);\n        d3.select(\"#location-wind\").text(\"\");\n        d3.select(\"#location-wind-units\").text(\"\");\n        d3.select(\"#location-value\").text(\"\");\n        d3.select(\"#location-value-units\").text(\"\");\n        if (clearEverything) {\n          activeLocation = {};\n          d3.select(\".location-mark\").remove();\n        }\n      }\n\n      function stopCurrentAnimation (alsoClearCanvas) {\n        animatorAgent.cancel();\n        if (alsoClearCanvas) {\n          µ.clearCanvas(d3.select(\"#animation\").node());\n        }\n      }\n\n      /**\n       *为指定的DOM元素注册click事件处理程序，该元素修改配置以使\n       *由newAttr表示的属性。还为配置更改事件注册了事件侦听器，\n       *因此，当发生更改时，如果\n       *配置与此按钮的属性匹配。将获取用于匹配的属性集\n       *来自newAttr，除非提供了自定义密钥集。\n       */\n      function bindButtonToConfiguration (elementId, newAttr, keys) {\n        // console.log(elementId, newAttr, keys)\n        keys = keys || _.keys(newAttr);\n        d3.select(elementId).on(\"click\", function () {\n          if (d3.select(elementId).classed(\"disabled\")) return;\n          console.log(newAttr, configuration.save(newAttr))\n          configuration.save(newAttr);\n        });\n        configuration.on(\"change\", function (model) {\n          var attr = model.attributes;\n          d3.select(elementId).classed(\"highlighted\", _.isEqual(_.pick(attr, keys), _.pick(newAttr, keys)));\n        });\n      }\n\n      function reportSponsorClick (type) {\n        if (ga) {\n          ga(\"send\", \"event\", \"sponsor\", type);\n        }\n      }\n\n      /**\n      *注册所有事件处理程序，以将组件和页面元素绑定在一起。一定有清洁工\n      *实现这一目标的方法。。。\n       */\n      function init () {\n        report.status(\"Initializing...\");\n\n        d3.select(\"#sponsor-link\")\n          .attr(\"target\", µ.isEmbeddedInIFrame() ? \"_new\" : null)\n          .on(\"click\", reportSponsorClick.bind(null, \"click\"))\n          .on(\"contextmenu\", reportSponsorClick.bind(null, \"right-click\"))\n        d3.select(\"#sponsor-hide\").on(\"click\", function () {\n          d3.select(\"#sponsor\").classed(\"invisible\", true);\n        });\n\n        d3.selectAll(\".fill-screen\").attr(\"width\", view.width).attr(\"height\", view.height);\n        // Adjust size of the scale canvas to fill the width of the menu to the right of the label.\n        var label = d3.select(\"#scale-label\").node();\n        d3.select(\"#scale\")\n          .attr(\"width\", (d3.select(\"#menu\").node().offsetWidth - label.offsetWidth) * 0.97)\n          .attr(\"height\", label.offsetHeight / 2);\n\n        d3.select(\"#show-menu\").on(\"click\", function () {\n          if (µ.isEmbeddedInIFrame()) {\n            window.open(\"http://earth.nullschool.net/\" + window.location.hash, \"_blank\");\n          }\n          else {\n            d3.select(\"#menu\").classed(\"invisible\", !d3.select(\"#menu\").classed(\"invisible\"));\n          }\n        });\n\n        if (µ.isFF()) {\n          // Workaround FF performance issue of slow click behavior on map having thick coastlines.\n          d3.select(\"#display\").classed(\"firefox\", true);\n        }\n\n        // Tweak document to distinguish CSS styling between touch and non-touch environments. Hacky hack.\n        if (\"ontouchstart\" in document.documentElement) {\n          d3.select(document).on(\"touchstart\", function () { });  // this hack enables :active pseudoclass\n        }\n        else {\n          d3.select(document.documentElement).classed(\"no-touch\", true);  // to filter styles problematic for touch\n        }\n        // Bind configuration to URL bar changes.\n        d3.select(window).on(\"hashchange\", function () {\n          log.debug(\"hashchange\");\n          configuration.fetch({ trigger: \"hashchange\" });\n        });\n        configuration.on(\"change\", report.reset);\n        meshAgent.listenTo(configuration, \"change:topology\", function (context, attr) {\n          meshAgent.submit(buildMesh, attr);\n        });\n\n        globeAgent.listenTo(configuration, \"change:projection\", function (source, attr) {\n          globeAgent.submit(buildGlobe, attr);\n        });\n        //监听按钮是否改变=》改变图层\n        gridAgent.listenTo(configuration, \"change\", function () {\n          var changed = _.keys(configuration.changedAttributes()), rebuildRequired = false;\n\n          //如果任何与图层相关的属性已更改，请构建新网格。\n          if (_.intersection(changed, [\"date\", \"hour\", \"param\", \"surface\", \"level\"]).length > 0) {\n            rebuildRequired = true;\n          }\n          //如果新覆盖类型与当前类型不同，则构建新网格。\n          var overlayType = configuration.get(\"overlayType\") || \"default\";\n          if (_.indexOf(changed, \"overlayType\") >= 0 && overlayType !== \"off\") {\n            var grids = (gridAgent.value() || {}), primary = grids.primaryGrid, overlay = grids.overlayGrid;\n            if (!overlay) {\n              //如果没有重叠网格，请执行重建。\n              rebuildRequired = true;\n            }\n            else if (overlay.type !== overlayType && !(overlayType === \"default\" && primary === overlay)) {\n              //如果类型不同，请执行重建。\n              rebuildRequired = true;\n            }\n          }\n\n          if (rebuildRequired) {\n            gridAgent.submit(buildGrids);\n          }\n        });\n        gridAgent.on(\"submit\", function () {\n          showGridDetails(null);\n        });\n        gridAgent.on(\"update\", function (grids) {\n          showGridDetails(grids);\n        });\n        //当地时间 ⇄ 国际时间\n        d3.select(\"#toggle-zone\").on(\"click\", function () {\n          d3.select(\"#data-date\").classed(\"local\", !d3.select(\"#data-date\").classed(\"local\"));\n          showDate(gridAgent.cancel.requested ? null : gridAgent.value());\n        });\n\n        function startRendering () {\n          rendererAgent.submit(buildRenderer, meshAgent.value(), globeAgent.value());\n        }\n\n        rendererAgent.listenTo(meshAgent, \"update\", startRendering);\n        rendererAgent.listenTo(globeAgent, \"update\", startRendering);\n\n        function startInterpolation () {\n          fieldAgent.submit(interpolateField, globeAgent.value(), gridAgent.value());\n        }\n        function cancelInterpolation () {\n          fieldAgent.cancel();\n        }\n        fieldAgent.listenTo(gridAgent, \"update\", startInterpolation);\n        fieldAgent.listenTo(rendererAgent, \"render\", startInterpolation);\n        fieldAgent.listenTo(rendererAgent, \"start\", cancelInterpolation);\n        fieldAgent.listenTo(rendererAgent, \"redraw\", cancelInterpolation);\n\n        animatorAgent.listenTo(fieldAgent, \"update\", function (field) {\n          animatorAgent.submit(animate, globeAgent.value(), field, gridAgent.value());\n        });\n        animatorAgent.listenTo(rendererAgent, \"start\", stopCurrentAnimation.bind(null, true));\n        animatorAgent.listenTo(gridAgent, \"submit\", stopCurrentAnimation.bind(null, false));\n        animatorAgent.listenTo(fieldAgent, \"submit\", stopCurrentAnimation.bind(null, false));\n\n        overlayAgent.listenTo(fieldAgent, \"update\", function () {\n          overlayAgent.submit(drawOverlay, fieldAgent.value(), configuration.get(\"overlayType\"));\n        });\n        overlayAgent.listenTo(rendererAgent, \"start\", function () {\n          overlayAgent.submit(drawOverlay, fieldAgent.value(), null);\n        });\n        overlayAgent.listenTo(configuration, \"change\", function () {\n          var changed = _.keys(configuration.changedAttributes())\n          // 如果仅覆盖相关标志已更改。\n          if (_.intersection(changed, [\"overlayType\", \"showGridPoints\"]).length > 0) {\n            overlayAgent.submit(drawOverlay, fieldAgent.value(), configuration.get(\"overlayType\"));\n          }\n        });\n\n\n        //添加用于显示、更新和删除位置详细信息的事件处理程序。  \n        inputController.on(\"click\", showLocationDetails);\n        fieldAgent.on(\"update\", updateLocationDetails);\n        d3.select(\"#location-close\").on(\"click\", _.partial(clearLocationDetails, true));\n\n        //根据我们所处的模式修改时间菜单。\n        configuration.on(\"change:param\", function (context, mode) {\n          d3.selectAll(\".ocean-mode\").classed(\"invisible\", mode !== \"ocean\");\n          d3.selectAll(\".ncep-mode\").classed(\"invisible\", mode !== \"ncep\");\n          d3.selectAll(\".cma-mode\").classed(\"invisible\", mode !== \"cma\"); //增加模式\n          switch (mode) {\n            case \"ncep\":\n              d3.select(\"#nav-backward-more\").attr(\"title\", \"-1 Day\");\n              d3.select(\"#nav-backward\").attr(\"title\", \"-3 Hours\");\n              d3.select(\"#nav-forward\").attr(\"title\", \"+3 Hours\");\n              d3.select(\"#nav-forward-more\").attr(\"title\", \"+1 Day\");\n              break;\n            case \"cma\":   //增加模式\n              d3.select(\"#nav-backward-more\").attr(\"title\", \"-1 Day\");\n              d3.select(\"#nav-backward\").attr(\"title\", \"-3 Hours\");\n              d3.select(\"#nav-forward\").attr(\"title\", \"+3 Hours\");\n              d3.select(\"#nav-forward-more\").attr(\"title\", \"+1 Day\");\n              break;\n            case \"ocean\":\n              d3.select(\"#nav-backward-more\").attr(\"title\", \"-1 Month\");\n              d3.select(\"#nav-backward\").attr(\"title\", \"-5 Days\");\n              d3.select(\"#nav-forward\").attr(\"title\", \"+5 Days\");\n              d3.select(\"#nav-forward-more\").attr(\"title\", \"+1 Month\");\n              break;\n          }\n        });\n\n        //为模式按钮添加处理程序。\n        //NECP\n        d3.select(\"#ncep-mode-enable\").on(\"click\", function () {\n          if (configuration.get(\"param\") !== \"ncep\") {\n            configuration.save({ param: \"ncep\", surface: \"surface\", level: \"level\", overlayType: \"default\" });\n          }\n        });\n        configuration.on(\"change:param\", function (x, param) {\n          d3.select(\"#ncep-mode-enable\").classed(\"highlighted\", param === \"ncep\");\n        });\n\n        //CMA  //增加模式\n        d3.select(\"#cma-mode-enable\").on(\"click\", function () {\n          console.log(configuration.get(\"param\"))\n          if (configuration.get(\"param\") !== \"cma\") {\n            configuration.save({ param: \"cma\", surface: \"cmasurface\", level: \"level\", overlayType: \"default\" });\n          }\n        });\n        configuration.on(\"change:param\", function (x, param) {\n          d3.select(\"#cma-mode-enable\").classed(\"highlighted\", param === \"cma\");\n        });\n\n        //ocean\n        d3.select(\"#ocean-mode-enable\").on(\"click\", function () {\n          if (configuration.get(\"param\") !== \"ocean\") {\n            //在模式之间切换时，当前日期可能没有关联数据。所以我们需要\n            //根据目录查找最接近的可用目录。如果日期为“当前”，则不需要此选项。\n            //撤消：此代码很烦人。应该更容易获得最近的海洋产品的日期。\n            var ocean = { param: \"ocean\", surface: \"surface\", level: \"currents\", overlayType: \"default\" };\n            var attr = _.clone(configuration.attributes);\n            if (attr.date === \"current\") {\n              configuration.save(ocean);\n            }\n            else {\n              when.all(products.productsFor(_.extend(attr, ocean))).spread(function (product) {\n                if (product.date) {\n                  configuration.save(_.extend(ocean, µ.dateToConfig(product.date)));\n                }\n              }).otherwise(report.error);\n            }\n            stopCurrentAnimation(true);  //清理大陆上的粒子瑕疵\n          }\n        });\n        configuration.on(\"change:param\", function (x, param) {\n          d3.select(\"#ocean-mode-enable\").classed(\"highlighted\", param === \"ocean\");\n        });\n\n        // 添加逻辑以禁用彼此不兼容的按钮\n        configuration.on(\"change:overlayType\", function (x, ot) {\n          d3.select(\"#surface-level\").classed(\"disabled\", ot === \"air_density\" || ot === \"wind_power_density\");\n        });\n        configuration.on(\"change:surface\", function (x, s) {\n          d3.select(\"#overlay-air_density\").classed(\"disabled\", s === \"surface\");\n          d3.select(\"#overlay-wind_power_density\").classed(\"disabled\", s === \"surface\");\n        });\n\n        // 为时间导航按钮添加事件处理程序。\n        d3.select(\"#nav-backward-more\").on(\"click\", navigate.bind(null, -10));\n        d3.select(\"#nav-forward-more\").on(\"click\", navigate.bind(null, +10));\n        d3.select(\"#nav-backward\").on(\"click\", navigate.bind(null, -1));\n        d3.select(\"#nav-forward\").on(\"click\", navigate.bind(null, +1));\n        d3.select(\"#nav-now\").on(\"click\", function () { configuration.save({ date: \"current\", hour: \"\" }); });\n\n        d3.select(\"#option-show-grid\").on(\"click\", function () {\n          configuration.save({ showGridPoints: !configuration.get(\"showGridPoints\") });\n        });\n        configuration.on(\"change:showGridPoints\", function (x, showGridPoints) {\n          d3.select(\"#option-show-grid\").classed(\"highlighted\", showGridPoints);\n        });\n\n        // 为所有风级按钮添加处理程序。\n        d3.selectAll(\".surface\").each(function () {\n          var id = this.id, parts = id.split(\"-\");\n          bindButtonToConfiguration(\"#\" + id, { param: \"ncep\", surface: parts[0], level: parts[1] });\n        });\n\n        // 为所有cma 下高度 按钮添加处理程序。\n        d3.selectAll(\".cmasurface\").each(function () {\n          var id = this.id, parts = id.split(\"-\");\n          bindButtonToConfiguration(\"#\" + id, { param: \"cma\", surface: parts[0], level: parts[1] });\n        });\n\n        // 为海洋动画类型添加处理程序。\n        bindButtonToConfiguration(\"#animate-currents\", { param: \"ocean\", surface: \"surface\", level: \"currents\" });\n\n        // 为所有覆盖按钮添加处理程序。\n        products.overlayTypes.forEach(function (type) {\n          bindButtonToConfiguration(\"#overlay-\" + type, { overlayType: type });\n        });\n\n        //切换模式时更新要素变量图层\n        bindButtonToConfiguration(\"#overlay-wind\", { param: \"ncep\", overlayType: \"default\" });\n        //添加模式\n        bindButtonToConfiguration(\"#overlay-cmawind\", { param: \"cma\", overlayType: \"default\" });\n        bindButtonToConfiguration(\"#overlay-currents\", { overlayType: \"default\" });\n\n        bindButtonToConfiguration(\"#overlay-ocean-off\", { overlayType: \"off\" });\n        bindButtonToConfiguration(\"#overlay-cma-off\", { overlayType: \"off\" });\n\n        // 为所有投影按钮添加处理程序。\n        globes.keys().forEach(function (p) {\n          bindButtonToConfiguration(\"#\" + p, { projection: p, orientation: \"\" }, [\"projection\"]);\n        });\n\n        // 当触摸设备在纵向和横向之间切换时，请使用新的视图大小重建地球仪。\n        d3.select(window).on(\"orientationchange\", function () {\n          view = µ.view();\n          globeAgent.submit(buildGlobe, configuration.get(\"projection\"));\n        });\n      }\n\n      function start () {\n        // 现在一切都设置好了，所以从散列片段加载配置并启动更改事件。\n        configuration.fetch();\n      }\n      when(true).then(init).then(start).otherwise(report.error);\n    },\n\n\n\n    handleClick () {\n      console.log(7878787878888888888, µ)\n      var coord = [116.20, 39.56];\n    },\n  },\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./MyEarth.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./MyEarth.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyEarth.vue?vue&type=template&id=13d86691&scoped=true&\"\nimport script from \"./MyEarth.vue?vue&type=script&lang=js&\"\nexport * from \"./MyEarth.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13d86691\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n\n    <MyEarth />\n  </div>\n</template>\n\n<script>\nimport MyEarth from './components/MyEarth.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    MyEarth\n  },\n  created () {\n  },\n  methods: {\n\n  },\n}\n</script>\n\n<style>\n#app {\n  /* font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50; */\n  /* margin-top: 60px; */\n}\n</style>\n","import mod from \"-!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=68f90d32&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Description: \r\n * @Author: Liu Yang\r\n * @Date: 2021-08-23 09:53:24\r\n * @LastEditTime: 2021-08-23 10:33:22\r\n * @LastEditors: Liu Yang\r\n * @FilePath: \\earth-vue\\src\\store\\state.js\r\n */\r\n// import db from '../common/comFun/db'\r\nexport default {\r\n  name: ''\r\n}\r\n","/*\r\n * @Description: \r\n * @Author: Liu Yang\r\n * @Date: 2021-08-23 10:36:13\r\n * @LastEditTime: 2021-08-23 10:38:32\r\n * @LastEditors: Liu Yang\r\n * @FilePath: \\earth-vue\\src\\store\\modules\\homePage.js\r\n */\r\n// @ homePage\r\nimport {\r\n  REQUEST_BANNER,\r\n  REQUEST_TIMENUMS,\r\n  REQUEST_IMGHOMEPAGE,\r\n\r\n} from '../mutation-types'\r\n\r\nconst state = {\r\n  name: \"\"\r\n}\r\n\r\nconst mutations = {\r\n}\r\n\r\nconst actions = {\r\n}\r\n\r\nconst getters = {}\r\n\r\nexport default {\r\n  state,\r\n  mutations,\r\n  actions,\r\n  getters\r\n}\r\n","/*\r\n * @Description: \r\n * @Author: Liu Yang\r\n * @Date: 2021-08-23 09:53:24\r\n * @LastEditTime: 2021-08-23 10:34:06\r\n * @LastEditors: Liu Yang\r\n * @FilePath: \\earth-vue\\src\\store\\store.js\r\n */\r\nimport Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport state from './state'\r\n\r\nimport actions from './actions'\r\nimport getters from './getters'\r\nimport mutations from './mutations'\r\nimport homePage from './modules/homePage'\r\n\r\n\r\n\r\nVue.use(Vuex)\r\nexport default new Vuex.Store({\r\n  state,\r\n  actions,\r\n  getters,\r\n  mutations,\r\n  modules: {\r\n    homePage,\r\n  }\r\n})","/*\n * @Description: \n * @Author: Liu Yang\n * @Date: 2021-08-17 13:33:52\n * @LastEditTime: 2021-08-23 10:45:32\n * @LastEditors: Liu Yang\n * @FilePath: \\earth-vue\\src\\main.js\n */\nimport Vue from 'vue'\nimport App from './App.vue'\nimport store from './store/store.js'\nconsole.log(store)\n\n\n\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\n\nVue.config.productionTip = false //阻止启动生产消息 ,减少用户体积\nVue.use(ElementUI);\n\nnew Vue({\n  store,\n  render: h => h(App),\n}).$mount('#app')\n"],"sourceRoot":""}